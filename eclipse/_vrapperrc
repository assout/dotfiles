" # Introduction {{{1
"
" ## Prelude
" vrapper のキーバインドを有効にするには eclipse のデフォルトキーバインドを変更する必要がある.
" 詳細は <http://vrapper.sourceforge.net/documentation>
" eclipse のデフォルトキーバインドを <Alt-hoge> のバインドに退避することとする.(メニューへのショートカットができなくなるがまあ良い)
" <Alt-hoge>のキーバインドが重複したら<C-S-A-hoge>にする。。(無いはず)
" 以下に退避するキーバインドの一覧を示す.

" Ctrl + a - Select All
" Ctrl + b - Build All
" Ctrl + c - Copy
" Ctrl + d - Delete Line
" Ctrl + e - Quick Switch Editor
" Ctrl + f - Find and Replace
" Ctrl + h - Open Search Dialog
" Ctrl + i - Correct Indentation,Format Active Elements
" Ctrl + j - Incremental Find
" Ctrl + k - Find Next
" Ctrl + l - Go to Line
" Ctrl + m - Maximize Active View or Editor
" Ctrl + n - New
" Ctrl + o - Quick Outline
" Ctrl + p - Print
" Ctrl + r - Next Word
" Ctrl + t - Quick Hierarchy
" Ctrl + u - Execute
" Ctrl + v - Paste
" Ctrl + w - Close,Close Rendering
" Ctrl + x - Cut
" Ctrl + y - Redo
"
" ## Caution
" * CopyをAlt + Cに退避するが他のCopyバインドも合わせて調整しないとうまくBindされない
"
" ## TODOs
" * TODO: linuxでnoremapがコマンドラインモードでも有効になってしまう

" }}}1

" # Begin {{{1
source .vrapperrc.environment
" }}}1
	
" # Vim Settings {{{1
set clipboard=unnamed
set noexpandtab
" }}}1

" # Vrapper Settings {{{1
set imdisable
set contentassistmode " コンテンツアシストで<C-p>,<C-n>を有効にする.
set startnormalmode " タブ移動したらNORMAL MODEに変更する.
set visualmouse " マウス選択時にビジュアルモードにする.
set regexsearch " Search Regex
" }}}1

" # Key-mappings {{{1
" Caution: 他と合わせると<M-t,c>はタブ作成、クローズだが定義しない(もともとのCtrl+t,cを退避しているため).

" vimrcでのマッピングを解除.
nunmap j
nunmap k
nunmap l
unmap  <Space>

" Normal mode mappings "
nnoremap <SID>[shortcut]m :maximize<CR>
nnoremap <SID>[shortcut]c :bdelete<CR>

" Note: 他と合わせると<M-h,l>でタブ移動だがEclipseでは退避したキーとかぶるのでCtrl+h,lとする
nnoremap <C-h> <C-w>gT
nnoremap <C-l> <C-w>gt

nnoremap <C-m> i<CR><Esc>

" Insert mode mappings "
" TODO: 以下3つ、vimrcで指定(<Home><End><Del>)しているが効かないのでworkaround.
inoremap <C-a> <C-o>^
inoremap <C-e> <C-o>$
inoremap <C-d> <C-o>x

" Command-line mode mappings
cnoremap <C-e> <End>

" Eclipse action 基本<Space>prefix {{{
" navigate
nnoremap <Space>s :OpenSuperImplementation<CR>
nnoremap <Space>i :OpenImplementation<CR>
nnoremap (        :GotoPreviousMember<CR>
nnoremap )        :GotoNextMember<CR>
" }}}
" }}}1

" # Define commands {{{1
" Edit {{{
" definition ID of the edit -> go to next member action.
eclipseaction GotoNextMember org.eclipse.jdt.ui.edit.text.java.goto.next.member
" definition id of the edit -> go to previous member action.
eclipseaction GotoPreviousMember org.eclipse.jdt.ui.edit.text.java.goto.previous.member
" }}}

" Navigate {{{ TODO: いまいち効かない
"definition ID of the navigate -> open type hierarchy action 
eclipseaction OpenTypeHierarchy org.eclipse.jdt.ui.edit.text.java.org.eclipse.jdt.ui.edit.text.java.open.type.hierarchy
"definition ID of the navigate -> open call hierarchy action 
eclipseaction OpenCallHierarchy org.eclipse.jdt.ui.edit.text.java.org.eclipse.jdt.ui.edit.text.java.open.call.hierarchy
"definition ID of the navigate -> open super implementation action TODO: いけたけどポップアップが一瞬で閉じちゃうので使えない
eclipseaction OpenImplementation org.eclipse.jdt.ui.edit.text.java.open.implementation
"definition ID of the navigate -> open super implementation action 
eclipseaction OpenSuperImplementation org.eclipse.jdt.ui.edit.text.java.open.super.implementation
"definition ID of the navigate -> Show Hierarchy action 
eclipseaction OpenHierarchy org.eclipse.jdt.ui.edit.text.java.open.hierarchy
"definition ID of the navigate -> Open Structure action 
eclipseaction OpenStructure org.eclipse.jdt.ui.navigate.java.open.structure
" }}}
" }}}1

" vim: filetype=vim nofoldenable:

