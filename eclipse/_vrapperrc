" Section; Introduction {{{1
" vrapper のキーバインドを有効にするには eclipse のデフォルトキーバインドを変更する必要がある.
" 詳細は http://vrapper.sourceforge.net/documentation

" caution: コメント分のなかに「。」があったりすると設定が効かなかったことがあったような気がするので使わない

" eclipse のデフォルトキーバインドを Alt + hoge のバインドに退避することとする.
" 例えば, Ctrl + c (copy)は、Alt + c に退避する.
" 以下に退避するキーバインドの一覧を示す.

" Ctrl + a - Select All
" Ctrl + b - Build All
" Ctrl + c - Copy
" Ctrl + d - Delete Line
" Ctrl + e - Quick Switch Editor
" Ctrl + f - Find and Replace
" Ctrl + h - Open Search Dialog
" Ctrl + i - Correct Indentation,Format Active Elements
" Ctrl + j - Incremental Find
" Ctrl + k - Find Next
" Ctrl + l - Go to Line
" Ctrl + m - Maximize Active View or Editor
" Ctrl + n - New
" Ctrl + o - Quick Outline
" Ctrl + p - Print
" Ctrl + r - Next Word
" Ctrl + t - Quick Hierarchy
" Ctrl + u - Execute
" Ctrl + v - Paste
" Ctrl + w - Close,Close Rendering
" Ctrl + x - Cut
" Ctrl + y - Redo
" }}}1

" Section; Vim Settings {{{1
source /home/oji/.vimrc
source C:/Users/admin/_vimrc
" ヤンク、ペーストをクリップボードに.
set clipboard=unnamed
" }}}1

" Section; Vrapper Settings {{{1
" インサートモードを抜けたらIMEオフ.
set imdisable
" コンテンツアシストで<C-p>,<C-n>を有効にする.
set contentassistmode
" タブ移動したらNORMAL MODEに変更する.
set startnormalmode
" マウス選択時にビジュアルモードにする.
set visualmouse
" Search Regex
set regexsearch
" path to gvim executable. caution: linuxではコメントアウトすること TODO PATH通ってるとこから探してくれないか
set gvimpath=D:/admin/Tools/vim74-kaoriya-win32/gvim.exe
" }}}1

" Section; Key-mappings {{{1
" vimrcでのマッピングを解除.
unmap  /
unmap  ?
nunmap j
nunmap k
nunmap <C-]>
unmap  <Space>

" caution: vimrcで設定してのもあるがvrapperではマップの再展開がされないっぽいので再定義
nnoremap sb     :bdelete<CR>
noremap  sh     ^
noremap  sl     g_
nnoremap sn     :nohlsearch<CR>
noremap  sv     :vsplit<CR>
" TODO linuxでコマンドラインモードでも有効になってしまうので一旦コメントアウト
" nnoremap <C-c>  :bdelete<CR>
" caution: vimrcではwindow間のカーソル移動だがeclipseだと微妙に不便なので暫定的にこうしてる.
noremap  <C-h>  gT
noremap  <C-l>  gt
" TODO linuxでコマンドラインモードでも有効になってしまうので一旦コメントアウト
" nnoremap <C-m>  i<CR><Esc>
" TODO linuxでコマンドラインモードでC-mしたとき1行カーソル移動してしまうので
nnoremap <C-m>  <Nop>
nnoremap <C-w>o :only<CR>
nnoremap <C-k>  :GotoPreviousMember<CR>
nnoremap <C-j>  :GotoNextMember<CR>
" cautioin: noremapではinser mode時効かない(なぜか2タブ挿入される)
nnoremap <C-t>  :maximize<CR>
inoremap <C-t>  <C-o>:maximize<CR>i
" TODO 以下3つ、vimrcで指定しているが効かないのでworkaround.
" inoremap <C-a> <Home>
" inoremap <C-e> <End>
" inoremap <C-d> <Del>
inoremap <C-a> <C-o>^
inoremap <C-e> <C-o>$
inoremap <C-d> <C-o>x

" eclipse action {{{
" navigate
nnoremap <Space>s :OpenSuperImplementation<CR>
nnoremap <Space>i :OpenImplementation<CR>
" }}}
" }}}1

" Section; Define commands {{{1
" edit {{{
" definition ID of the edit -> go to next member action.
eclipseaction GotoNextMember org.eclipse.jdt.ui.edit.text.java.goto.next.member
" definition id of the edit -> go to previous member action.
eclipseaction GotoPreviousMember org.eclipse.jdt.ui.edit.text.java.goto.previous.member
" }}}

" navigate {{{ TODO いまいち効かない
"definition ID of the navigate -> open type hierarchy action 
eclipseaction OpenTypeHierarchy org.eclipse.jdt.ui.edit.text.java.org.eclipse.jdt.ui.edit.text.java.open.type.hierarchy
"definition ID of the navigate -> open call hierarchy action 
eclipseaction OpenCallHierarchy org.eclipse.jdt.ui.edit.text.java.org.eclipse.jdt.ui.edit.text.java.open.call.hierarchy
"definition ID of the navigate -> open super implementation action TODO いけたけどポップアップが一瞬で閉じちゃうので使えない
eclipseaction OpenImplementation org.eclipse.jdt.ui.edit.text.java.open.implementation
"definition ID of the navigate -> open super implementation action 
eclipseaction OpenSuperImplementation org.eclipse.jdt.ui.edit.text.java.open.super.implementation
"definition ID of the navigate -> Show Hierarchy action 
eclipseaction OpenHierarchy org.eclipse.jdt.ui.edit.text.java.open.hierarchy
"definition ID of the navigate -> Open Structure action 
eclipseaction OpenStructure org.eclipse.jdt.ui.navigate.java.open.structure
" }}}
" }}}1

" vim: filetype=vim nofoldenable:

